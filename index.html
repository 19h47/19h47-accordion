<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Accordion</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
</head>
<body>
	<div class="container-fluid">
		<div class="row py-5">
			<div class="col-12 col-lg-10 offset-lg-1">
				<h1 class="my-5"><a href="https://github.com/19h47/accordion-style">Accordion</a></h1>
			</div>
			<div class="col-12 col-lg-10 offset-lg-1 mt-5">
				<h2 class="my-3">Deselectable</h2>
			</div>
			<div class="col-12 col-lg-10 offset-lg-1">
				<div class="js-accordion">

					<button class="btn btn-primary js-accordion-destroy mb-4">Destroy</button>
					<button class="btn btn-primary js-accordion-create mb-4">Create</button>

					<!-- Panel -->
					<div
						class="card js-accordion-panel"
						data-accordion-open="true"
						data-accordion-deselect="true"
					>
						<div class="card-header">
							<button
								class="btn btn-primary js-accordion-header"
								type="button"
								aria-expanded="true"
								aria-controls="lorem"
								>
								Toggle
							</button>
						</div>

						<div
							id="lorem"
							class="js-accordion-body"
						>
							<div class="card-body js-accordion-inner">
								Sit amet, consectetur adipisicing elit. Omnis ex inventore tempore. Quam voluptas quibusdam excepturi accusantium voluptatum facere. Nemo vero iste recusandae, at magnam tenetur maxime ad optio veniam!<br>
								Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloremque, molestias excepturi molestiae nesciunt alias. Nobis aut praesentium, commodi minus laborum ullam at quod soluta qui tempore sit eveniet dicta esse.
							</div>
						</div>
					</div>

					<!-- Panel -->
					<div
						class="card js-accordion-panel"
						data-accordion-open="false"
						data-accordion-deselect="true"
					>
						<div class="card-header">
							<button
								class="btn btn-primary js-accordion-header"
								type="button"
								aria-expanded="true"
								aria-controls="consectetur"
							>
								Toggle
							</button>
						</div>

						<div
							id="consectetur"
							class="js-accordion-body"
						>
							<div class="card-body js-accordion-inner">
								Itaque dolore ipsa harum nobis distinctio aperiam quis omnis error incidunt iusto dolorem inventore laboriosam quaerat numquam tenetur dicta quibusdam quisquam, debitis!
							</div>
						</div>
					</div>

					<!-- Panel -->
					<div
						class="card js-accordion-panel"
						data-accordion-open="false"
						data-accordion-deselect="true"
					>
						<div class="card-header">
							<button
								class="btn btn-primary js-accordion-header has-decor"
								type="button"
								aria-expanded="false"
								aria-controls="nihil"
							>
								Toggle
							</button>
						</div>

						<div
							id="nihil"
							class="js-accordion-body"
						>
							<div class="card-body js-accordion-inner">
								Nemo nobis doloribus praesentium eum animi qui eos. Sit accusantium rem consequatur quisquam ullam veritatis tenetur architecto.
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-12 col-lg-10 offset-lg-1 mt-5">
				<h2 class="my-3">Undeselectable</h2>
			</div>
			<div class="col-12 col-lg-10 offset-lg-1">
				<div class="js-accordion my-4">

					<button class="btn btn-primary js-accordion-destroy mb-4">Destroy</button>
					<button class="btn btn-primary js-accordion-create mb-4">Create</button>

					<!-- Panel -->
					<div
						class="card js-accordion-panel"
						data-accordion-open="true"
						data-accordion-deselect="false"
					>
						<div class="card-header">
							<button
								class="btn btn-primary js-accordion-header"
								type="button"
								aria-expanded="true"
								aria-controls="lorem"
								>
								Toggle
							</button>
						</div>

						<div
							id="lorem"
							class="js-accordion-body"
						>
							<div class="card-body js-accordion-inner">
								Sit amet, consectetur adipisicing elit. Omnis ex inventore tempore. Quam voluptas quibusdam excepturi accusantium voluptatum facere. Nemo vero iste recusandae, at magnam tenetur maxime ad optio veniam!<br>
								Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloremque, molestias excepturi molestiae nesciunt alias. Nobis aut praesentium, commodi minus laborum ullam at quod soluta qui tempore sit eveniet dicta esse.
							</div>
						</div>
					</div>

					<!-- Panel -->
					<div
						class="card js-accordion-panel"
						data-accordion-open="false"
						data-accordion-deselect="false"
					>
						<div class="card-header">
							<button
								class="btn btn-primary js-accordion-header"
								type="button"
								aria-expanded="false"
								aria-controls="consectetur"
							>
								Toggle
							</button>
						</div>

						<div
							id="consectetur"
							class="js-accordion-body"
						>
							<div class="card-body js-accordion-inner">
								Itaque dolore ipsa harum nobis distinctio aperiam quis omnis error incidunt iusto dolorem inventore laboriosam quaerat numquam tenetur dicta quibusdam quisquam, debitis!
							</div>
						</div>
					</div>

					<!-- Panel -->
					<div
						class="card js-accordion-panel"
						data-accordion-open="false"
						data-accordion-deselect="false"
					>
						<div class="card-header">
							<button
								class="btn btn-primary js-accordion-header has-decor"
								type="button"
								aria-expanded="false"
								aria-controls="nihil"
							>
								Toggle
							</button>
						</div>

						<div
							id="nihil"
							class="js-accordion-body"
						>
							<div class="card-body js-accordion-inner">
								Nemo nobis doloribus praesentium eum animi qui eos. Sit accusantium rem consequatur quisquam ullam veritatis tenetur architecto.
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="col-12 col-lg-10 offset-lg-1 mt-5">
				<h2 class="my-3">Hash</h2>
			</div>
			<div class="col-12 col-lg-10 offset-lg-1">
				<div class="js-accordion" data-accordion-hash="true">

					<!-- Panel -->
					<div id="behir" class="card js-accordion-panel" data-accordion-open="true" data-accordion-deselect="true">
						<div class="card-header">
							<button class="btn btn-primary js-accordion-header" type="button" aria-expanded="true" aria-controls="behir-body">
								Behir
							</button>
						</div>

						<div id="behir-body" class="js-accordion-body">
							<div class="card-body js-accordion-inner">
								The behir is a snake-like reptilian monster whose dozen legs allow it to move with considerable speed
								and climb at fully half its normal movement rate. It can fold its limbs close to its long, narrow body and
								slither in snake-fashion if it desires. The head looks more crocodilian than snake-like, but has no
								difficulty in opening its mouth wide enough to swallow prey whole, the way a snake does.<br>
								Behir have band-like scales of great hardness. Their color ranges from ultramarine to deep blue with
								bands of gray-brown. The belly is pale blue. The two large horns curving back over the head look
								dangerous enough but are actually used for preening the creature's scales and not for fighting.
							</div>
						</div>
					</div>

					<!-- Panel -->
					<div id="stirge" class="card js-accordion-panel" data-accordion-open="false" data-accordion-deselect="true">
						<div class="card-header">
							<button class="btn btn-primary js-accordion-header" type="button" aria-expanded="true"
								aria-controls="stirge-body">
								Stirge
							</button>
						</div>

						<div id="stirge-body" class="js-accordion-body">
							<div class="card-body js-accordion-inner">
								Stirges are bird-like creatures that drink the blood of their victims for sustenance. They have four small,
								pincer-like legs that they use to clamp onto the necks of their victims. They are rusty-red to reddish
								brown in color, and their eyes and feet are yellowish. The dangling proboscises of stirges are pink at the
								tip, fading to gray at the base (near their heads).
							</div>
						</div>
					</div>

					<!-- Panel -->
					<div id="androsphinx" class="card js-accordion-panel" data-accordion-open="false" data-accordion-deselect="true">
						<div class="card-header">
							<button class="btn btn-primary js-accordion-header has-decor" type="button" aria-expanded="false"
								aria-controls="androsphinx-body">
								Androsphinx
							</button>
						</div>

						<div id="androsphinx-body" class="js-accordion-body">
							<div class="card-body js-accordion-inner">
								Androsphinxes are huge, winged mythological creatures with the bodies of male lions and man-like facial
								features. They can speak the languages of common and all sphinxes.
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script src="main.js"></script>
	<script>
		const elements = document.querySelectorAll('.js-accordion');

		for (var i = 0; i < elements.length; i += 1) {
			const hash = JSON.parse(elements[i].getAttribute('data-accordion-hash')) || false;
			const accordion = new Accordion.default(elements[i], { hash });
			const $destroy = elements[i].querySelector('.js-accordion-destroy') || false;
			const $create = elements[i].querySelector('.js-accordion-create') || false;

			accordion.init();

			accordion.panels.map(panel => {
				panel.rootElement.addEventListener('Close.close', (event) => {
					console.log({ type: event.type, detail: event.detail });
				});
			});

			accordion.panels.map(panel => {
				panel.rootElement.addEventListener('Close.open', (event) => {
					console.log({ type: event.type, detail: event.detail });
				});
			});

			$destroy && $destroy.addEventListener('click', () => {
				accordion.destroyAll();
			});

			$create && $create.addEventListener('click', () => {
				accordion.destroyAll();
				accordion.init();
			});
		}
	</script>
</body>
</html>
